#: import gch kivy.utils.get_color_from_hex

#: set btn_color gch("b90000")
#: set text_color gch("000000")
#: set bg_color gch("ffffff")


<AudioCard>
    id: recordings
    elevation:10
    md_bg_color: bg_color
    radius: [15,]
    size_hint_y: .22
    duration_long_touch: 0.1
    text: root.title
    theme_text_color: "Custom"
    text_color: btn_color
    secondary_theme_text_color: "Custom"
    secondary_text: root.body
    secondary_text_color: btn_color
    divider: None
    ripple_scale: 0.2
    # password: True
    # on_press: root.manager.current = "profile"
    IconLeftWidget:
        icon: 'play'
        theme_text_color: "Custom"
        md_bg_color:text_color
        text_color: btn_color
        # user_font_size: '30sp'
        on_press: self.icon == 'play' if 'pause' else 'pause'
    MDFloatLayout:
        id: bar
        size_hint: .01, .9
        pos_hint: {'center_x': 0.02,'center_y': 0.5}
        md_bg_color: btn_color






<AddRecording>
    MDFloatLayout:
        Image:
            source: "note.png"
            allow_stretch: True
            size_hint_x: .81
            pos_hint: {'center_x': 0.5,'center_y': 0.81}
            halign: "center"
        MDIconButton:
            icon: "chevron-left"
            theme_text_color: "Custom"
            text_color: text_color
            font_size:"40sp"
            # font_name: 'Roboto-Bold'
            pos_hint: {'top': 0.99}
            on_press: root.manager.current = "main_screen"
            # halign: "center"
        MDFloatLayout:
            md_bg_color: btn_color
            size_hint_y: .6
            radius: [30, 0, 0, 0]

            MDLabel:
                id: state
                text: '[color=#ffffff]Ready...[/color]'
                markup: True
                pos_hint: {'center_y': 0.65}
                # md_bg_color: bg_color
                # size_hint_x: .99
                font_size: "18sp"
                font_name: "Roboto-Bold"
                halign: "center"
                

            MDFillRoundFlatButton:
                id: record_btn
                text: '[color=#b90000]start[/color]'
                markup: True
                pos_hint: {'center_x': 0.25,'center_y': 0.5}
                md_bg_color: bg_color
                size_hint_x: .4
                font_size: "20sp"
                font_name: "Roboto-Bold"
                on_press: root.start_recording()
            MDFillRoundFlatButton:
                id: stop_btn
                text: '[color=#b90000]Stop[/color]'
                markup: True
                pos_hint: {'center_x': 0.75,'center_y': 0.5}
                md_bg_color: bg_color
                size_hint_x: .4
                font_size: "20sp"
                font_name: "Roboto-Bold"
                # on_press: root.save_note(
            # MDIconButton:
            #     id: record
            #     icon: "microphone-plus"
            #     user_font_size: "40sp"
            #     pos_hint: {'center_x': 0.5,'center_y': 0.59}

            MDTextField:
                id: save_as
                hint_text: "save audio as..."
                current_hint_text_color: bg_color
                current_hint_text_font_size: "30sp"
                line_color_focus: bg_color
                line_color_normal: bg_color
                size_hint_x: .84
                pos_hint: {'center_x': 0.5,'center_y': 0.79}



            MDFillRoundFlatButton:
                text: '[color=#b90000]Save[/color]'
                markup: True
                pos_hint: {'center_x': 0.5,'center_y': 0.1}
                md_bg_color: bg_color
                size_hint_x: .99
                font_size: "20sp"
                font_name: "Roboto-Bold"
                on_press: root.start_recording()
